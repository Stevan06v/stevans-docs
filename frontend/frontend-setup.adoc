= Frontend
Jonas Froeller
1.0.0, {docdate}: Frontend
:sourcedir: ../src/main/java
:imagesdir: ./img
:icons: font
:toc: left
:sectnums:
:hide-uri-scheme:

== init oracle cloud setup
Create new vm instance:

image::create-vm.png[]

Image:

image::image.png[]

shape:

image::shape.png[]
image::shape-setting.png[]

download keys!

image::download-keys.png[]

boot volume:

image::boot-volume.png[]

=== connect to instance

delete rights:

image::rechte-loeschen.png[]

choose prinzipal:

image::select-new-object.png[]

chmod 777 prinzipal:

image::vollzugriff-aktivieren.png[]

https://docs.oracle.com/en/cloud/cloud-at-customer/occ-get-started/log-vm-using-ssh.html

`ssh ubuntu@140.238.215.29 -i ssh-key-rabbidly-private-2022-12-14.key`

=== download and setup nginx

Install: https://webinoly.com/install/ +
`apt update && sudo apt upgrade` +
`wget -qO weby qrok.es/wy && sudo bash weby -nginx` // only nginx +
`wget -qO weby qrok.es/wy && sudo bash weby 3` // nginx, mariadb, php (don't forget to save the database login)

open ports: +
`iptables -I INPUT 6 -m state --state NEW -p tcp --dport 80 -j ACCEPT` +
`iptables -I INPUT 6 -m state --state NEW -p tcp --dport 443 -j ACCEPT` +
`iptables -I INPUT 6 -m state --state NEW -p tcp --dport 22222 -j ACCEPT` +
`sudo netfilter-persistent save` // save +
`iptables -L` // show open ports

create site: `sudo site <example.com> -html` // simple static html site

add cert: `sudo site <example.com> -ssl=on`

enable sftp: `sudo webinoly -login-www-data=on`

HTML File location: ~/www/<example.com>/htdocs
webinoly config: /opt/webinoly/webinoly.conf

alternative ssl (default is lets encrypt):
https://developers.cloudflare.com/ssl/origin-configuration/authenticated-origin-pull/set-up

Get the Cloudflare Key & Cert from the SSL tab in your Cloudflare dash. Paste in the Cloudflare certificates using nano, exit & save: +
nano /etc/nginx/certs/cert.pem +
nano /etc/nginx/certs/cert.crt +
nano /etc/nginx/certs/cert.key

doku: https://webinoly.com/documentation/

==== alternative with docker
https://youtu.be/qxPdd-geqqA

== testing

https://www.e-recht24.de/websitescanner +
https://pagespeed.web.dev/ // google page speed test
